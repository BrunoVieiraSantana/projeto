#:import MDCard kivymd.uix.card.MDCard
#:import NoTransition kivy.uix.screenmanager.NoTransition

<PlotWidgetPie>
<HomeApp>:
    md_bg_color: app.theme_cls.primary_color
    MDBoxLayout:
        orientation:'vertical'
        MDTopAppBar:
            left_action_items: [["menu", lambda x: draw.set_state()]]
            right_action_items: [["dots-vertical", lambda x: app.callback_1()], ["clock", lambda x: app.callback_2()]]

        MDGridLayout:
            md_bg_color: app.theme_cls.primary_color
            size_hint_y:.75
            cols:2
            padding:[dp(15),dp(15),dp(15),dp(35)]
            spacing:dp(15)  

            MDFloatLayout:
                ScreenManager:
                    id: screen_nav
                    transition: NoTransition()
                    MDScreen:
                        name: 'overview'
                        MDLabel:
                            text: 'Visão Geral'
                            pos_hint: {'center_y':.5}
                            halign: 'center'

                    MDScreen:
                        name: 'add'
                        PlotWidgetPie:
                            pos_hint: {'center_y':.5, 'center_x':.5}
                            size_hint_y:0.70
                            size_hint_x:0.72

                    MDScreen:
                        name: 'search'
                        MDLabel:
                            text: 'Buscar'
                            pos_hint: {'center_y':.5}
                            halign: 'center'
                    MDScreen:
                        name: 'calendar'
                        MDLabel:
                            text: 'Calendário'
                            pos_hint: {'center_y':.5}
                            halign: 'center'
                NavBar:
                    size_hint: .85, .07
                    pos_hint: {'center_x':.5, 'center_y':.01}
                    elevation: 0
                    md_bg_color: app.theme_cls.primary_dark
                    radius: [16]
                    MDGridLayout:
                        cols:4
                        size_hint_x: .7
                        pos_hint: {'center_x':.5,'center_y':.5}
                        MDIconButton:
                            id:nav_icon1
                            icon:'home'
                            riple_scale:0
                            user_font_size: '30sp'
                            on_release: screen_nav.current = 'overview'
            
                        MDIconButton:
                            id:nav_icon2
                            icon:'plus'
                            riple_scale:0
                            user_font_size: '30sp'
                            on_release: screen_nav.current = 'add'
        
                        MDIconButton:
                            id:nav_icon3
                            icon:'magnify'
                            riple_scale:0
                            user_font_size: '30sp'
                            on_release: screen_nav.current = 'search'
                        MDIconButton:
                            id:nav_icon4
                            icon:'calendar'
                            riple_scale:0
                            user_font_size: '30sp'
                            on_release: screen_nav.current = 'calendar'
